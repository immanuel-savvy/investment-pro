let express,cors,ds_conn,RUNNING_INVESTMENTS,router,bodyParser,create_default_admin,fulfil_investment;_192‍.w("express",[["default",["express"],function(v){express=v}]]);_192‍.w("cors",[["default",["cors"],function(v){cors=v}]]);_192‍.w("./ds/conn",[["default",["ds_conn"],function(v){ds_conn=v}],["RUNNING_INVESTMENTS",["RUNNING_INVESTMENTS"],function(v){RUNNING_INVESTMENTS=v}]]);_192‍.w("./routes",[["default",["router"],function(v){router=v}]]);_192‍.w("body-parser",[["default",["bodyParser"],function(v){bodyParser=v}]]);_192‍.w("./handlers/starter",[["create_default_admin",["create_default_admin"],function(v){create_default_admin=v}]]);_192‍.w("./handlers/investments",[["fulfil_investment",["fulfil_investment"],function(v){fulfil_investment=v}]]);







const app = express();
app.use(cors());
app.use(express.static(__dirname + "/assets"));
app.use(bodyParser.urlencoded({ extended: true, limit: "100mb" }));
app.use(bodyParser.json({ limit: "100mb" }));

router(app);

setInterval(() => {
  let runnings = RUNNING_INVESTMENTS.read();

  runnings.map((data) => fulfil_investment(data));
}, 10 * 60 * 1000); // Every ten minutes

app.get("/", (req, res) =>
  res.send("<div><h1>Hi, its GIIT ICT Foundation.</h1></div>")
);

app.listen(1459, () => {
  ds_conn();

  create_default_admin();

  console.log("Investment Pro Backend started on :1459");
});
